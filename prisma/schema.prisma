// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

// Enum for user roles
enum UserRole {
  admin
  user
  cs_representative
  advertiser
  cs_support
  retention_specialist
}

// User model for authentication
model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String   // Hashed password
  name      String
  companyId Int?     // Optional company ID
  role      UserRole @default(user)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

// Layanan (Service) model
model Layanan {
  id        Int      @id @default(autoincrement())
  nama      String   @unique // Nama layanan (e.g., "Konsultasi Medis", "Medical Check-up")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("layanan")
}

// Kode Ads model
model KodeAds {
  id        Int      @id @default(autoincrement())
  kode      String   @unique // Kode ads (e.g., "ADS001", "FB-ADS-2024")
  nama      String   // Nama/deskripsi kode ads
  platform  String?  // Platform (e.g., "Facebook", "Google", "Instagram")
  status    String   @default("aktif") // Status: "aktif" atau "nonaktif"
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("kode_ads")
}

// Sumber Leads (Lead Source) model
model SumberLeads {
  id        Int      @id @default(autoincrement())
  nama      String   @unique // Nama sumber leads (e.g., "Instagram", "Facebook", "WhatsApp", "Website")
  deskripsi String?  // Deskripsi tambahan
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("sumber_leads")
}

// Tipe Faskes (Healthcare Facility Type) model
model TipeFaskes {
  id        Int      @id @default(autoincrement())
  nama      String   @unique // Nama tipe faskes (e.g., "Rumah Sakit", "Klinik", "Puskesmas", "Apotek")
  deskripsi String?  // Deskripsi tambahan
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("tipe_faskes")
}

// Bukan Leads (Not Leads) model
model BukanLeads {
  id        Int      @id @default(autoincrement())
  nama      String   @unique // Nama kategori bukan leads (e.g., "Spam", "Tidak Tertarik", "Salah Target", "Nomor Tidak Aktif")
  deskripsi String?  // Deskripsi tambahan
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("bukan_leads")
}
